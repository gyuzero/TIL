# 05 파이썬 날개달기



## 05-1 클래스

클래스란 객체를 정의하는 틀 또는 설계도와 같은 의미로 사용된다. 여기서 객체란 클래스로 만든 피조물을 뜻한다. 

이러한 객체는 각자 고유한 성격을 가지고 있어 서로 전혀 영향을 주지 않는다.



#### 클래스 만들기

클래스를 작성하기 위해서는 다음과 같이 class 키워드를 사용하여 클래스를 작성한다.

```python
class Calculator():
    pass
```

> 클래스 안에 구현된 함수는 다른 말로 메서드(Method)라고 부른다. 메서드는 클래스에 포함되어 있다는 점만 제외하면 일반 함수와 다를 것이 없다.



#### 생성자(Constructor)

생성자는 객체가 생성되는 시점에 자동으로 호출되는 메서드이다.

```python
class Calculator():
    def __init__(self):
        ....
```

> 메서드 이름으로 \__init__을 사용하면 해당 메서드는 생성자가 된다.



```python
class Calculator():
    def __init__(self, a, b):
        self.a = a
        self.b = b
    
    def add(self):
        return self.a + self.b
    
cal = Calculator(3, 4)
print(cal.add())
```

> Calculator 클래스의 생성자는 \__init__(self, a, b) 3개의 매개변수를 가지는데 Calculator를 생성할 때는 Calculator(3, 4)처럼 2개 값만 전달하는 걸 확인할 수 있다. 그 이유는 self는 메서드를 호출한 객체가 자동으로 전달되기 때문이다. 이건 파이썬만의 독특한 특징으로 자바 같은 언어에서는 첫 번째 매개변수로 self가 필요 없다.



#### 클래스의 상속

상속(Inheritance)이란 "물려받다"라는 뜻으로, "재산을 상속받다"라고 할 때의 상속과 같은 의미이다. 

클래스를 상속하기 위해서는 다음처럼 클래스 이름 뒤 괄호 안에 상속할 클래스 이름을 넣어주면 된다.

```python
class MoreCalculator(Calculator):
    def sub(self):
        return self.a - self.b
    
mCal = MoreCalculator(4, 3)
print(mCal.sub())
```

MoreCalculator 클래스는 Calculator 클래스를 상속했으므로 Calculator 클래스의 모든 기능을 사용할 수 있다.



#### 메서드 오버라이딩

메서드 오버라이딩이란 부모 클래스에 있는 메서드와 동일한 이름으로 다시 만든 메서드를 의미한다. 

메서드를 오버라이딩하면 부모클래스의 메서드 대신 오버라이딩한 메서드가 호출된다.



#### 클래스 변수

클래스 변수는 클래스로 만든 모든 객체에 공유된다는 특징을 갖고있으며 값을 변경할 경우 해당 클래스로 만든 객체의 모든 변수 값이 변경된다. 

다음 예를 살펴보자.

```python
class Family:
    lastname = "박"
```

클래스 안에 함수를 선언하는 것처럼 변수도 클래스 안에 변수를 선언하면 클래스 변수가 된다. 위에서는 lastname이 Family 클래스의 클래스 변수이다.

클래스 변수를 사용할 때는 `클래스이름.클래스 변수` 형태로 사용한다.

```python
print(Family.lastname)
박
```



클래스 변수는 모든 객체에 공유된다는 특징이 있다고 말했는데 다음 예제를 살펴보자.

```python
a = Family()
b = Family()
print(id(a), id(b))
print(id(a.lastname), id(b.lastname))
2909115362560 2909115510944
2909115370832 2909115370832
```

a와 b는 서로 다른 객체이지만 lastname 변수는 같은 주소를 공유하는것을 확인할 수 있다. 

그래서 해당 클래스 변수를 변경하면 a와 b의 lastname 모두 변경된다.

```python
Family.lastname = "김"
print(a.lastname, b.lastname)
김 김
```



## 05-2 모듈

모듈이란 함수나 변수 또는 클래스를 모아 놓은 파일이다. 모듈은 다른 파이썬 프로그램에서 불러와 사용할 수 있게끔 만든 파이썬 파일이라고도 할 수 있다.



#### 모듈 만들기

다음 코드를 작성하여 `C:/test` 디렉터리에 저장한다.

```python
# cal1.py
def add(a, b):
    return a + b

def sub(a, b):
    return a - b
```



#### 모듈 불러오기

모듈을 불러오기 위해서는 import 를 사용한다. import는 현재 디렉터리에 있는 파일이나 파이썬 라이브러리가 저장된 디렉터리에 있는 모듈을 불러올 수 있다.

import의 사용법은 다음과 같다.

```python
import 모듈이름
```

위에서 만든 cal1.py를 import 할려면 다음과 같이 확장자를 제외한 이름만 작성한다.

```python
import cal1
```

import를 하고나면 `cal1.add`, `cal1.sub` 처럼 `모듈이름.함수` 형태로 사용할 수 있다. 하지만 때로는 모듈이름을 사용하지않고 바로 `add`, `sub`처럼 사용하고 싶은 경우 다음과 같이 `from 모듈이름 import 모듈 함수`를 사용한다.

```python
from 모듈이름 import 모듈함수
```



`C:/test` 경로에 다음 코드를 작성한 다음 실행해본다.

```python
# test.py
from cal1 import add

print(add(3, 4))
```

해당 코드를 실행하면 ca1 모듈의 add를 사용해 3과 4를 더한 7을 출력하게 된다.



위와 같이 add 함수만 사용하는 것이 아니라 여러 모듈 함수를 사용하려면 다음과 같이 작성한다.

```python
from cal1 import add, sub # cal1의 add와 sub함수를 불러와 사용
from cal1 import * # cal1의 모든 함수를 불러서 사용
```



#### `if __name__ == "__main__":` 의 의미

모듈을 import 할 때 해당 모듈이 실행되어 코드가 실행되는걸 방지 하기 위해 사용된다.

다음 예제는 `if __name__ == "__main__":`를 사용하지 않은 경우의 모듈이다.

```python
# cal1.py
def add(a, b):
    return a + b

def sub(a, b):
    return a - b

print(add(1, 4))
```

위의 모듈을 다른 파이썬 코드에서 import 하면 print(add(1, 4))가 실행되어 5가 출력이 된다.

위의 코드를 다음과 같이 수정해보자

```python
#cal1.py
def add(a, b):
    return a + b

def sub(a, b):
    return a - b

if __name__ == "__main__":
    print(add(1, 4))
```

위와 같이 코드를 수정하면 다른 파일에서 이 모듈을 불러서 사용할 때 `__name__ == "__main__"` 이 거짓이 되어 if문 다음 문장이 수행되지 않는다.

> `__name__` 변수는 파일을 직접 실행할 경우 해당 파이썬 파일의 `__name__` 변수에는 `__main__` 값이 저장된다.



#### 클래스나 변수 등을 포함한 모듈

모듈은 함수만 포함하는 것이 아니라 다음과 같이 클래스나 변수 등을 포함할 수도 있다.

```python
# cal2.py
PI = 3.141592

class Math:
    def solv(self, r):
        return PI * (r ** 2)
    
def add(a, b):
    return a + b
```

다음은 위의 모듈에서 클래스나 변수를 사용하는 예제이다.

```python
import cal2

print(cal2.PI);
a = cal2.Math()
print(a.solv(2))
```
